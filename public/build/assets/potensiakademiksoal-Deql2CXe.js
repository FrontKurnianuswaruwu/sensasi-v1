import{$ as t}from"./jquery-BvxTx_lq.js";t(document).ready(function(){let n=parseInt(t("#waktuPengerjaan").val(),10)*60;const i=document.getElementById("countdown"),c=t("#testForm");let o=!1;function e(){let a=Math.floor(n/60),r=n%60;i.textContent=`${a.toString().padStart(2,"0")}:${r.toString().padStart(2,"0")}`,n<=0&&!o&&(clearInterval(s),alert("Waktu Habis! Jawaban akan otomatis disubmit."),u()),n--}const s=setInterval(e,1e3);e();function u(){o=!0;const a=t("#submit"),r=a.html();a.html('<i class="fas fa-spinner fa-spin mr-2"></i>Menyimpan...').prop("disabled",!0),t.ajax({url:window.submitRoute,type:"POST",data:c.serialize(),success:function(l){l.status==="success"&&(m(l.message,l.status),setTimeout(()=>{window.location.href=l.redirect_url},2e3),a.html(r).prop("disabled",!1))},error:function(){alert("Gagal submit jawaban"),a.html(r).prop("disabled",!1)}})}c.on("submit",function(a){a.preventDefault(),o||(clearInterval(s),u())})});function m(n,i="info"){const e=t(`
            <div class="notification flex items-center space-x-3 ${i==="success"?"bg-green-500":i==="error"?"bg-red-500":"bg-blue-500"} text-white px-6 py-4 rounded-xl shadow-lg transform translate-x-full opacity-0 transition-all duration-300 cursor-pointer">
            <i class="fas ${i==="success"?"fa-check-circle":i==="error"?"fa-exclamation-circle":"fa-info-circle"} text-lg"></i>
            <span class="font-medium">${n}</span>
            </div>
            `);t("#notificationWrapper").append(e),setTimeout(()=>{e.removeClass("translate-x-full opacity-0")},100);const s=setTimeout(()=>{e.addClass("translate-x-full opacity-0"),setTimeout(()=>e.remove(),300)},4e3);e.on("click",function(){clearTimeout(s),t(this).addClass("translate-x-full opacity-0"),setTimeout(()=>t(this).remove(),300)})}
