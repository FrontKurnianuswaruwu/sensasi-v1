import{$ as t}from"./jquery-BvxTx_lq.js";t(document).ready(function(){let a=parseInt(t("#waktuPengerjaan").val(),10)*60;const o=document.getElementById("countdown"),c=t("#testForm");let i=!1;function e(){let n=Math.floor(a/60),r=a%60;o.textContent=`${n.toString().padStart(2,"0")}:${r.toString().padStart(2,"0")}`,a<=0&&!i&&(clearInterval(s),alert("Waktu Habis! Jawaban akan otomatis disubmit."),m()),a--}const s=setInterval(e,1e3);e();const l=t("#confirmModal"),d=t("#confirmSubmit"),f=t("#cancelSubmit");function m(){i=!0;const n=t("#submit"),r=n.html();n.html('<i class="fas fa-spinner fa-spin mr-2"></i>Menyimpan...').prop("disabled",!0),t.ajax({url:window.submitRoute,type:"POST",data:c.serialize(),success:function(u){u.status==="success"&&(p(u.message,"success"),setTimeout(()=>{window.location.href=u.redirect_url},2e3))},error:function(){alert("Gagal submit jawaban")},complete:function(){n.html(r).prop("disabled",!1)}})}c.on("submit",function(n){n.preventDefault(),i||l.removeClass("hidden").addClass("flex")}),f.on("click",function(){l.addClass("hidden").removeClass("flex")}),d.on("click",function(){l.addClass("hidden").removeClass("flex"),clearInterval(s),m()})});function p(a,o="info"){const e=t(`
            <div class="notification flex items-center space-x-3 ${o==="success"?"bg-green-500":o==="error"?"bg-red-500":"bg-blue-500"} text-white px-6 py-4 rounded-xl shadow-lg transform translate-x-full opacity-0 transition-all duration-300 cursor-pointer">
            <i class="fas ${o==="success"?"fa-check-circle":o==="error"?"fa-exclamation-circle":"fa-info-circle"} text-lg"></i>
            <span class="font-medium">${a}</span>
            </div>
            `);t("#notificationWrapper").append(e),setTimeout(()=>{e.removeClass("translate-x-full opacity-0")},100);const s=setTimeout(()=>{e.addClass("translate-x-full opacity-0"),setTimeout(()=>e.remove(),300)},4e3);e.on("click",function(){clearTimeout(s),t(this).addClass("translate-x-full opacity-0"),setTimeout(()=>t(this).remove(),300)})}
