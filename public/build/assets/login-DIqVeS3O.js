import{$ as e}from"./jquery-BvxTx_lq.js";e.ajaxSetup({headers:{"X-CSRF-TOKEN":e('meta[name="csrf-token"]').attr("content")}});e(function(){e("#togglePassword").on("click",function(){const a=e("#password"),o=e("#passwordIcon");a.attr("type")==="password"?(a.attr("type","text"),o.removeClass("fa-eye").addClass("fa-eye-slash")):(a.attr("type","password"),o.removeClass("fa-eye-slash").addClass("fa-eye"))}),e("#loginForm").on("submit",function(a){a.preventDefault(),e(".text-red-300").addClass("hidden");const o=e("#email").val().trim(),r=e("#password").val().trim();let t=!0;o?e("#email").removeClass("border-red-400"):(e("#email-error").removeClass("hidden"),e("#email").addClass("border-red-400"),t=!1),r?e("#password").removeClass("border-red-400"):(e("#password-error").removeClass("hidden"),e("#password").addClass("border-red-400"),t=!1),t&&(e("#loginText").addClass("hidden"),e("#loginLoading").removeClass("hidden"),e("#loginBtn").prop("disabled",!0),e.ajax({url:"/login/post",method:"POST",data:{email:o,password:r},success:function(s){s.success?(d("success","Login Berhasil!","Selamat datang di Dashboard SENSASI"),setTimeout(function(){window.location.href=s.route},1500)):d("error","Login Gagal!",s.message||"Username atau password salah")},error:function(s){let i="Terjadi kesalahan pada server";s.responseJSON&&s.responseJSON.message&&(i=s.responseJSON.message),d("error","Login Gagal!",i)},complete:function(){e("#loginText").removeClass("hidden"),e("#loginLoading").addClass("hidden"),e("#loginBtn").prop("disabled",!1)}}))}),e("input").on("focus",function(){e(this).parent().addClass("scale-102")}).on("blur",function(){e(this).parent().removeClass("scale-102")});function d(a,o,r){const t=e("#toast"),s=e("#toast-icon");a==="success"?s.html('<i class="fas fa-check-circle text-green-500 text-xl"></i>'):s.html('<i class="fas fa-times-circle text-red-500 text-xl"></i>'),e("#toast-title").text(o),e("#toast-message").text(r),t.removeClass("hidden").hide().slideDown(300),setTimeout(function(){t.slideUp(300,function(){t.addClass("hidden")})},3e3)}});
